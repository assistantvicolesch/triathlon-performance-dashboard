<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triatlón Hamburg 2026 - Performance Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #0f172a; color: #f8fafc; font-family: 'Inter', sans-serif; }
        .card { background-color: #1e293b; border: 1px solid #334155; border-radius: 0.5rem; padding: 1.5rem; }
    </style>
</head>
<body class="p-8">
    <div class="max-w-6xl mx-auto">
        <header class="mb-12 border-b border-slate-700 pb-6 flex justify-between items-end">
            <div>
                <h1 class="text-3xl font-bold tracking-tight">TRIATLÓN HAMBURGO 2026</h1>
                <p class="text-slate-400 mt-2 uppercase tracking-widest text-sm font-semibold">Performance & Nutrition Monitoring</p>
            </div>
            <div class="text-right">
                <p class="text-4xl font-mono font-bold text-blue-400" id="countdown">--</p>
                <p class="text-xs text-slate-500 uppercase tracking-tighter">Días para la competición</p>
            </div>
        </header>

        <main class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- KPIs -->
            <div class="card hover:border-blue-500/50 transition-colors">
                <h2 class="text-slate-400 text-xs font-bold uppercase mb-4 flex justify-between">
                    Estado Físico
                    <span class="text-[10px] bg-blue-500/10 text-blue-400 px-2 py-0.5 rounded">Peso</span>
                </h2>
                <div class="flex justify-between items-baseline">
                    <span class="text-3xl font-bold">77.0 <span class="text-sm font-normal text-slate-500 font-mono">kg</span></span>
                    <span class="text-green-400 text-xs font-bold px-2 py-1 bg-green-400/10 rounded">ESTABLE</span>
                </div>
                <div class="mt-4 h-1.5 bg-slate-700 rounded-full overflow-hidden">
                    <div class="bg-blue-500 h-full" style="width: 85%"></div>
                </div>
                <div class="flex justify-between mt-2">
                    <span class="text-[10px] text-slate-500">Mínimo: 76.5</span>
                    <span class="text-[10px] text-slate-500">Objetivo: < 75.0</span>
                </div>
            </div>

            <div class="card hover:border-blue-500/50 transition-colors">
                <h2 class="text-slate-400 text-xs font-bold uppercase mb-4 flex justify-between">
                    Carga Semanal
                    <span class="text-[10px] bg-blue-500/10 text-blue-400 px-2 py-0.5 rounded">Horas</span>
                </h2>
                <div class="flex justify-between items-end">
                    <div>
                        <span class="text-3xl font-bold">4.5 <span class="text-sm font-normal text-slate-500 font-mono">h</span></span>
                        <p class="text-xs text-slate-500 mt-1 uppercase font-bold tracking-tighter">Z2 Dominante</p>
                    </div>
                    <!-- Simple SVG Sparkline -->
                    <svg class="w-24 h-12 text-blue-500" viewBox="0 0 100 40">
                        <path d="M0,35 L15,30 L30,38 L45,20 L60,25 L75,10 L100,5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </div>
                <p class="text-[10px] text-slate-400 mt-4 italic border-t border-slate-700 pt-3">
                    "Fase de base: construyendo resistencia aeróbica."
                </p>
            </div>

            <div class="card hover:border-blue-500/50 transition-colors">
                <h2 class="text-slate-400 text-xs font-bold uppercase mb-4 flex justify-between">
                    Nutrición
                    <span class="text-[10px] bg-blue-500/10 text-blue-400 px-2 py-0.5 rounded">Calorías</span>
                </h2>
                <div class="flex justify-between items-baseline">
                    <span class="text-3xl font-bold">2.350 <span class="text-sm font-normal text-slate-500 font-mono">kcal</span></span>
                    <span class="text-blue-400 text-xs font-bold px-2 py-1 bg-blue-400/10 rounded uppercase">Balanceado</span>
                </div>
                <div class="mt-6 grid grid-cols-3 gap-1 text-center">
                    <div>
                        <div class="text-[10px] text-slate-500 font-bold uppercase">Prot</div>
                        <div class="text-xs font-mono">160g</div>
                    </div>
                    <div>
                        <div class="text-[10px] text-slate-500 font-bold uppercase">Carb</div>
                        <div class="text-xs font-mono">280g</div>
                    </div>
                    <div>
                        <div class="text-[10px] text-slate-500 font-bold uppercase">Fat</div>
                        <div class="text-xs font-mono">70g</div>
                    </div>
                </div>
            </div>

            <!-- Training Plan -->
            <div class="card md:col-span-2">
                <h2 class="text-slate-400 text-xs font-bold uppercase mb-6">Plan de Entrenamiento Semanal</h2>
                <div class="grid grid-cols-1 gap-2" id="training-schedule">
                    <!-- Dynamic rendering via JS -->
                </div>
            </div>

            <!-- Insights -->
            <div class="card bg-gradient-to-br from-slate-800 to-slate-900 border-blue-500/30">
                <h2 class="text-blue-400 text-xs font-bold uppercase mb-4">Insights Proactivos</h2>
                <ul class="text-sm space-y-4">
                    <li class="flex gap-3">
                        <div class="w-1 h-auto bg-blue-500 rounded-full"></div>
                        <span class="text-slate-300">Faltan 160 días. El foco debe ser la <span class="text-blue-400 font-semibold">técnica de nado</span>.</span>
                    </li>
                    <li class="flex gap-3">
                        <div class="w-1 h-auto bg-blue-500 rounded-full"></div>
                        <span class="text-slate-300">Viaje detectado (Mar-Jue). Sesiones de <span class="text-blue-400 font-semibold">carrera</span> priorizadas para logística simple.</span>
                    </li>
                    <li class="flex gap-3">
                        <div class="w-1 h-auto bg-yellow-500/50 rounded-full"></div>
                        <span class="text-slate-300">Déficit calórico ligero detectado. Mantener ingesta de proteína.</span>
                    </li>
                </ul>
            </div>
        </main>

        <footer class="mt-12 text-center text-slate-600 text-xs uppercase tracking-widest">
            Generado automáticamente por Clawd Performance System v1.0
        </footer>
    </div>

    <script>
        const targetDate = new Date('2026-07-11T09:00:00');
        const weekDays = ['DOMINGO', 'LUNES', 'MARTES', 'MIÉRCOLES', 'JUEVES', 'VIERNES', 'SÁBADO'];
        const schedule = [
            { day: 0, activity: 'Gimnasio: Espalda + Core', type: 'Fuerza' },
            { day: 1, activity: 'Natación: 1.800m Técnica', type: 'Agua' },
            { day: 2, activity: 'Carrera: 6x800m (Z4)', type: 'Carrera' },
            { day: 3, activity: 'Carrera: 45min (Z2)', type: 'Carrera' },
            { day: 4, activity: 'Rest / Movilidad', type: 'Descanso' },
            { day: 5, activity: 'Natación: 2.000m Resistencia', type: 'Agua' },
            { day: 6, activity: 'Bici: 90min (Z2)', type: 'Bici' }
        ];

        function renderSchedule() {
            const container = document.getElementById('training-schedule');
            const today = new Date().getDay();
            
            container.innerHTML = schedule.map(item => {
                const isToday = item.day === today;
                return `
                    <div class="flex items-center justify-between p-3 ${isToday ? 'bg-blue-500/10 border-blue-500' : 'bg-slate-800/30 border-slate-700'} rounded border-l-4 transition-all hover:translate-x-1">
                        <span class="font-bold text-xs ${isToday ? 'text-blue-400' : 'text-slate-500'}">${weekDays[item.day]} ${isToday ? '(HOY)' : ''}</span>
                        <span class="text-sm ${isToday ? 'text-slate-100 font-medium' : 'text-slate-400'}">${item.activity}</span>
                    </div>
                `;
            }).join('');
        }

        function updateCountdown() {
            const now = new Date();
            const diff = targetDate - now;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            document.getElementById('countdown').innerText = days;
        }

        renderSchedule();
        updateCountdown();

        // Data Fetching
        async function loadData() {
            try {
                const response = await fetch('/api/hevy.json');
                if (!response.ok) return;
                const workouts = await response.json();
                console.log('Data synced:', workouts.length, 'entries');
            } catch (e) {
                console.warn('Backend API not ready yet.');
            }
        }
        loadData();
    </script>
</body>
</html>
